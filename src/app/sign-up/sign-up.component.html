<div class="container">

  <div class="signup-form">
    <form [formGroup]="signupForm" (ngSubmit)="onSubmit()">
      <div class="form-group">
        <div class="input-wrapper">
          <div style="display: flex; justify-content: center; align-items: center;">
            <label for="avatarInput">
              <img class="user-avatar" [src]="selectedImage ||'assets/images/default-avatar.png'" [style.width.px]="150"
                alt="logo" />
            </label>
            <input type="file" id="avatarInput" (change)="onFileChange($event)" class="form-control"
              style="display: none;">
          </div>
          <div *ngIf="submitted && signupForm.controls.avatar.errors?.required" class="error">Avatar is required.</div>
          <div *ngIf="submitted && signupForm.controls.avatar.errors?.image" class="error">Invalid image format.</div>
          <div *ngIf="submitted && signupForm.controls.avatar.errors?.extension" class="error">Invalid file extension.
          </div>
        </div>
      </div>
      <div class="form-group">
        <div class="input-wrapper">
          <input type="text" formControlName="firstname" class="form-control" placeholder="First Name">
          <div *ngIf="submitted && signupForm.controls.firstname.errors?.required" class="error">First Name is
            required.
          </div>
          <div *ngIf="submitted && signupForm.controls.firstname.errors?.minlength" class="error">First Name must be
            at
            least 3 characters long. </div>
          <div *ngIf="submitted && signupForm.controls.firstname.errors?.maxlength" class="error">First Name cannot be
            more than 12 characters long. </div>
        </div>
      </div>
      <div class="form-group">
        <div class="input-wrapper">
          <input type="text" formControlName="lastname" class="form-control" placeholder="Last Name">
          <div *ngIf="submitted && signupForm.controls.lastname.errors?.required" class="error">Last Name is required.
          </div>
          <div *ngIf="submitted && signupForm.controls.lastname.errors?.minlength" class="error">Last Name must be at
            least 3 characters long. </div>
          <div *ngIf="submitted && signupForm.controls.lastname.errors?.maxlength" class="error">Last Name cannot be
            more than 12 characters long. </div>
        </div>
      </div>
      <div class="form-group">
        <div class="input-wrapper">
          <input type="email" formControlName="email" class="form-control" placeholder="Email">
          <div *ngIf="submitted && signupForm.controls.email.errors?.required" class="error">Email is required.</div>
          <div *ngIf="submitted && signupForm.controls.email.errors?.email" class="error">Invalid email.</div>
        </div>
      </div>
      <div class="form-group">
        <div class="input-wrapper">
          <input type="text" formControlName="username" class="form-control" placeholder="Username">
          <div *ngIf="submitted && signupForm.controls.username.errors?.required" class="error">Username is required.
          </div>
        </div>
      </div>
      <div class="form-group">
        <div class="input-wrapper">
          <input type="password" formControlName="password" class="form-control" placeholder="Password">
          <div *ngIf="submitted && signupForm.controls.password.errors?.required" class="error">Password is required.
          </div>
          <div *ngIf="submitted && signupForm.controls.password.errors?.pattern" class="error">Password is not secure.
          </div>

        </div>
      </div>
      <div class="form-group">
        <button type="submit" [disabled]="loading"> <span>CREATE A NEW ACCOUNT</span></button>
      </div>
      <div class="signin-link">
        Have an account? <a routerLink="/login">Sign In</a>
      </div>
    </form>
  </div>

</div>